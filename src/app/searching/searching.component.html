<html lang="en">
        <head>
          <title>Bootstrap Example</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
          <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyDntIUhIrk3e1FjrOEy_EwO7bFrSCt3Eos&sensor=false"></script>
          <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js?key=AIzaSyDntIUhIrk3e1FjrOEy_EwO7bFrSCt3Eos"></script>
         
        </head>
    <body>     
        <div id=mainsearch>
                        <div id="downer"class="form-inline"> 
                                        <textarea id="search" class="form-control" type="text" rows="3" placeholder="Search" #box (keydown.control.enter)="onSave(box.value)"></textarea>
                                        <button type="button" class="btn btn-success" id="searchB" #but (click)="onSave(box.value)">Search</button>
                
                        </div>
                
                        <div id="upper"class="form-inline">
                        <input id="keyword"class="form-control" #type type="text" placeholder="Keyword">
                        <select  id="selection" class="form-control" #select >
                                        <option value="map">Map</option>
                                        <option value="imdb">IMDB</option>
                                        <option value="wikipedia">Wikipedia</option>
                                        <option value="direction">Direction</option>
                                        <option value="photo">Photo</option>
                                        <option value="game">Game</option>
                                        <option value="trailer">Trailer</option> 
                                        <option value="song">Song</option> 
                                        <option value="video">Video</option> 
                
                                </select>
                                <button id="plusButton" type="button" class="btn btn-light" (click)="add(type.value,select.value,false,'0')" >+</button> 
                                </div>
                        
                    </div> 

        <div *ngIf = "flag==false || finish==false">
                        <div class="loader"></div>
        </div>
        <div *ngIf = "pressed==true && flag==true && finish==true && minus==true">
            <mat-table #table [dataSource]="dataSource">
                        <ng-container *ngFor="let col of displayedColumns;let i=index" matColumnDef="{{col}}">
                        <div *ngIf = "col=='name' || col=='url' || col=='url2';else other" >
                                <mat-header-cell *matHeaderCellDef> {{nameOfColum[i]}} </mat-header-cell>
                        </div>
                        <ng-template #other>
                                        <mat-header-cell *matHeaderCellDef> 
                                                <button #plus class="plus" (click)="deleteColumn(col)" >-</button> 
                                               <p> <mat-form-field class="example-full-width"><input matInput placeholder=" Keyword" #key class="box2"/></mat-form-field></p>
                                               <p> <select (change)="add(key.value,typeChanged.value,true,col)" class="selection" #typeChanged >
                                                        <option ></option>
                                                        <option value="map">Map</option>
                                                        <option value="imdb">IMDB</option>
                                                        <option value="wikipedia">Wikipedia</option>
                                                        <option value="direction">Direction</option>
                                                        <option value="photo">Photo</option>
                                                        <option value="game">Game</option>
                                                        <option value="trailer">Trailer</option> 
                                                        <option value="song">Song</option> 
                                                        <option value="video">Video</option> 
                                
                                                </select>  </p>
                                                <p>{{nameOfColum[i]}}  </p>
                                        </mat-header-cell>
                                </ng-template>
                                        <mat-cell *matCellDef="let element">
                                        <div *ngIf = "col!='url'">
                                                {{element[0][col]}}
                                        </div>
                                                <div *ngIf = "col=='url'">
                                                        <div *ngIf = "typed=='film'">
                                                                <iframe [src]="element[0].url" width="400" height="200" frameborder="0" allowfullscreen></iframe>
                                                        </div>
                                                        <div *ngIf = "typed=='song'">
                                                                <iframe [src]="element[0].url" width="400" height="200" frameborder="0" allowfullscreen></iframe>
                                                        </div>
                                                        <div *ngIf = "typed=='photo'">
                                                                <img [src]="element[0].url" width="200" height="200" frameborder="0" allowfullscreen>
                                                        </div>
                                                        <div *ngIf = "typed=='wiki'">
                                                                {{element[0].url}}
                                                        </div>
                                                        <div *ngIf = "typed=='game'">
                                                                        <div [innerHTML]="element[0].url"></div> 
                                                        </div>
                                                        <div *ngIf = "typed=='map'">
                                                                <iframe width="200" height="200" frameborder="0" style="border:0"
                                                                [src]="element[0].url" allowfullscreen></iframe>
                                                        </div> 
                                                        <div *ngIf = "typed=='direction'">
                                                                <iframe width="200" height="200" frameborder="0" style="border:0"
                                                                [src]="element[0].url" allowfullscreen></iframe>
                                                        </div> 
                                                </div>
                                                <div *ngIf = "col=='url2'">
                                                        <div *ngIf = "typed=='film'">
                                                                <ul>
                                                                        <li *ngFor="let item of element[0].otherColumns">
                                                                                        {{item}}
                                                                        </li>
                                                                        </ul>
                                                        </div>
                                                        <div *ngIf = "typed=='game'">
                                                                <ul>
                                                                        <iframe [src]="element[0].otherColumns" width="400" height="200" frameborder="0" allowfullscreen></iframe>
                                                                        
                                                                        </ul>
                                                        </div>
                                                </div>
                                                <div *ngFor="let item of createRange(countOfColums)">
                                                        <div *ngIf = "col==returncol(item)">
                                                                <div [innerHTML]="element[item].otherColumns"></div>   
                                                        </div>
                                                </div>

                                        </mat-cell>
                        
                        </ng-container> 
                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
        </div>

    </body>
</html>
